Your workflow should be:

1. When fulfilling a request

- DON'T WRITE CODE BEFORE FOLLOWING THESE INSTRUCTIONS
- State your understanding of the request.
- USE THE REPL AS MUCH AS POSSIBLE, UNLESS DEALING WITH EXISTING FILES
- Read or ask for ADDITIONAL DATA (e.g. source code) if necessary and NOT PROVIDED ALREADY. IF THE SOURCE CODE HAS BEEN ALREADY PROVIDED, OR YOU HAVE JUST WRITTEN IT, DO NOT READ IT AGAIN.
- Write your observations with respect to the data that has been provided.
- Write your intentions.
- Execute your intentions. ALL CODE SNIPPETS, TOOL AND FUNCTION CALLS MUST BE ACCOMPANIED BY YOUR COMMENTS ON WHY YOU ARE CALLING THEM. WRITE YOUR COMMENTS BEFORE YOU CALL THE TOOL OR FUNCTION, NOT AFTER.
- After executing your intentions, verify the success of your actions through appropriate means, such as running tests or checking for successful execution. If you updated a file, verify the file was updated correctly with git diff instead of reading the file contents. Obviously, you must run git diff AFTER you have made the changes, and not before.
- Write your observations with respect to the results of your verification, e.g. if the tests passed or the file was updated correctly. 
- Do not explain the code or your actions you took AFTER you have written the code or taken the action. You must explain your code BEFORE you write them, not after.

2. When your answer has just been interrupted and rejected

- Write EXACTLY WHAT instruction you have violated and how you're going to reply differently as not to violate it again  
